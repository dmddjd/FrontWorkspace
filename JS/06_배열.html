<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array</title>
</head>
<body>
    <h1>Array</h1>
    <h2>배열 생성</h2>
    <input type="button" value="생성" onclick="test1()">
    <input type="button" value="초기화" onclick="test2()">
    <script>
        // js의 배열은 크기,타입 제한x
        // java의 ArrayList<Object>와 비슷
        function test1(){
            //배열 생성
            const arr1 = [];
            const arr2 = new Array();
            const arr3 = new Array(3);
            console.log(arr1, arr2, arr3);
            
            // 값 대입
            arr1[0] = "a";
            arr1[1] = "b";
            arr1[3] = "d";
            console.log(arr1, arr1.length);
            /*좀따 emty인 인덱스 찾아보자*/
            // for (let i=0; i<arr1.length; i++) {
            //     if(){

            //     }
            // }

            // 반복문
            // 기본 반복문
            for(let i=0; i<arr1.length; i++){
                console.log(arr1[i]);
            }
            // 향상된 반복문
            // 1. for of문 : 배열객체에서 사용하는 반복문으로, 각 인덱스에 담겨있는 값을 변수로 꺼내서 사용 가능(자바의 for each문과 비슷)
            for(let item of arr1){
                console.log(item);
            }
            // 2. for in문 : 배열뿐 아니라 객체도 반복시킬 수 있는 반복문, 객체의 key값을 저장할 수 있는 변수가 필요하다.
            for(let index in arr1){
                console.log(index, arr1[index]);
            }
            
            const obj = {
                0:"a",
                name:"밍경밍",
                age : 20
            }
            for (let key in obj) {
                console.log(key, obj[key]);
            }
        }
        function test2(){
            // 배열 초기화
            const arr1 = [1,2,3];
            const arr2 = new Array("밍경밍","민견민","하리보");
            const arr3 = [1,2,3,"안녕",true,{id:"mkm"},["a","b","c"],console.log("ㅋㅋ")]
            arr3[7]();
        }
    </script>

    <h2>Array Method</h2>
    <input type="button" value="indexOf" onclick="test3();">
    <input type="button" value="concat" onclick="test4();">
    <input type="button" value="join" onclick="test5();">
    <input type="button" value="reverse" onclick="test6();">
    <input type="button" value="sort" onclick="test7();">
    <input type="button" value="push | pop " onclick="test8();">
    <input type="button" value="unshift | shift" onclick="test9();">
    <input type="button" value="slice" onclick="test10();">
    <input type="button" value="splice" onclick="test11();">
    <input type="button" value="@실습문제" onclick="test12();">
    <input type="button" value="forEach" onclick="test13();">
    <input type="button" value="find,filter,map" onclick="test14();">
    <ul id="hobby-list"></ul>
    <input type="button" value="취미" onclick="test12()">
    <hr>
    <ul id="drink">
        <li>coke</li>
        <li>juice</li>
        <li>coffee</li>
        <li>beer</li>
        <li>wine</li>
        <li>soju</li>
    </ul>
  <!-- input:b[onclick] -->
  <input type="button" value="@실습문제#drink" onclick="test15();">
  
  <script>
    const test3 = function(){
        const arr1 = ["a","b","c"];
        // 찾고자 할 값의 위치를 찾는 메서드
        console.log(arr1.indexOf("a"))
        console.log(arr1.indexOf("b"))
        console.log(arr1.indexOf("d")) // 찾고자 할 값이 없는 경우 -1 반환
    }
    const test4 = function(){
        const arr1 = [1,2,3,4,5];
        const arr2 = [6,7,8,9,10];
        const arr3 = arr1.concat(arr2);
        console.log(arr3);
    }
    const test5 = function(){
        // join : 배열 내부의 요소를 하나의 문자열ㄹ ㅗ합쳐서 리턴
        const arr = [1,2,3,4,5];
        console.log(arr.join("")); // type = String
    }
    const test6 = function(){
        // reverse : 배열의 순서를 뒤집은 값을 리턴
        // "원본 배열의 값이 바뀐다."
        const arr = [1,2,3,4,5];
        console.log(arr.reverse());
    }
    const test7 = function(){
        // sort : 기본값 : 사전등록순서상 오름차순으로 정렬
        const arr = [2,3,15,1,4]; // 1,15,2,3,4
        console.log(arr.sort());
    
        // 정수 기준 오름차순 정렬
        const arr2 = [1,2,15];
        arr2.sort(function(a,b){
            return b - a;
        });
        console.log(arr2);

        const arr3 = ["홍길동","김길동","라마다","다나가"];
        arr3.sort();
        console.log(arr3);
        arr3.sort((a,b) =>{
            // 양수, 음수, 0
            if(a>b) return -1;
            if(a<b) return 1;
            return 0;
        });
        console.log(arr3);
    }
    const test8 = () => {
        /*
            push : 배열에 요소를 추가한 후 변경된 길이를 반환
            pop : 배열의 마지막 요소를 제거하고 제거된 요소를 반환
        */
        const arr = [];
        arr.push(1);
        arr.push(2);
        arr.push(3);
        arr.push(null);
        console.log(arr);
        
        arr.pop();
        console.log(arr);
        console.log(arr.pop());
        console.log(arr);
    }
    const test9 = function(){
        /*
            unshift : 배열의 0번째 인덱스에 요소를 추가 후 변경된 길이 반환
            shift : 배열의 0번째 요소를 제거 후 제거된 요소를 반환
        */
       const arr = ["사과","배","포도"];
       arr.unshift("토마토");
       console.log(arr);
       console.log(arr.shift());
       console.log(arr);
    }
    const test10 = function(){
        // slice(시작인덱스, 종료인덱스(미포함))
        const arr = ["밍경밍","밍밍경","경밍밍","밍밍밍"];
        const arr2 = arr.slice(1,3);
        const arr3 = arr.slice(); // 깊은 복사
        console.log(arr);
        console.log(arr2);
        console.log(arr3);
    }
    const test11 = function(){
        /*
            splice : 배열 내부에 요소 추가&제거
            splice(시작인덱스, 삭제할 개수, 추가할 요소1, 추가할 요소2, ...);
        */
       const arr=["a","b","c","d","e"];
       arr.splice(1,1,"x","y");
       console.log(arr);
       arr.splice(2,3,"k","h");
       console.log(arr);
    }
    const test12 = function(){
        /*
            prompt를 이용해 사용자의 취미리스트를 입력받으세요.
            예) 농구,수영,캠핑,낚시
            구분자로 잘라서 배열로 담은후,
            사전순 정렬이후, ul#hobby-list의 자식li태그로 추가하세요.
        */
        const hobbyList = prompt("취미를 입력하세요 : ");
        const arr = hobbyList.split(",");
        console.log(arr);
        arr.sort();
        const ul = document.querySelector("#hobby-list");
        for(let hobby of arr){
            ul.innerHTML += "<li>"+hobby+"</li>";
        }
    }
    const test13 = function(){
        /*
            arr.forEach(함수(element,index)){
                // 반복적으로 실행할 구문
            }
        */
        const arr = [1,2,3,4,5];
        let sum = 0;
        arr.forEach(function(element, index){
            console.log(element, index);
            sum += element;
        });
        console.log(sum);
    }
    const test14 = function(){
        /*
            1. find
             - 배열에서 지정한 조건을 만족하는 1개의 요소를 찾은 후 반환하는 메서드

            2. filter
             - 배열에서 지정한 조건들을 만족하는 모든 요소를 찾은 후 배열에 담아 반환하는 메서드 

            3. map
             - 배열 안의 데이터를 원하는 요소로 변환시켜 새로운 배열에 담아 반환하는 메서드
        */
        const objArr = [
            {id:"aldrudald1", name:"밍경밍1"},
            {id:"aldrudald2", name:"밍경밍2"},
            {id:"aldrudald3", name:"밍경밍3"},
            {id:"aldrudald4", name:"밍경밍4"}
        ];
        // find : 원하는 요소를 찾으면 찾은 요소 반환, 찾지 못하면 undefinded 반환
        // const findItem = objArr.find((element, index)=>{
        //     return element.id === "aldrudald1";
        // });
        const findItem = objArr.find(e=>e.id === "aldrudald1");
        console.log(findItem)
        
        // filter : 조건을 만족하는 요소 여러개를 배열에 담아 반환
        const filterArr = objArr.filter(ele=>ele.name.includes("밍경밍"));
        console.log(filterArr)

        console.log(filter(objArr, ele=> ele.name.includes("밍경밍2")));

        // map : 배열 내부의 요소를 원하는 요소로 변경
        const mapArr = objArr.map(function(ele){
            return {
                newId : ele.id,
                newMame: ele.name
            };
        });
        console.log(mapArr);
    }

    function filter(arr,func){
        //func의 실행결과가 true가 나오는 경우 해당요소를 새로운 배열에 담아서 반환
        const newArr=[];
        for(let i=0;i<arr.length;i++){
            if(func(arr[i],i,arr)){
                newArr.push(arr[i]);
            }
        }
        return newArr;
    }
    const test15 = () => {
        var drink = [];
        var findOne ;
        var filteredArr;
        var mappedDrink;
        var priceArr = [2000, 1600, 4000, 8000, 15000];
        /*
            * 1) 배열 drink에 #drink태그의 자식li태그 텍스트를 추가. (forEach활용)
                ['coke', 'juice', 'coffee', 'beer', 'wine']
            * 2) 배열 drink에서 'ff'가 들어가는 요소를 선택해서 findOne 반환. (find 활용)
                coffee
            * 3) 배열 drink에서  'o'가 들어가는 요소들을 선택해서 filteredArr 반환. (filter활용)
                ['coke','coffee']
            * 4) 배열 drink를 활용하여 음료객체 배열을 생성 한후 mappedDrink에 반환(map 활용)     *
                [{"menu": "coke","price": 2000},{"menu": "juice","price": 1600},{"menu": "coffee","price": 4000},
                {"menu": "beer","price": 8000},{"menu": "wine","price": 15000}]
        */
        // 1.
        document.querySelectorAll("#drink>li").forEach(function(element){
            drink.push(element.innerText);
        });
        console.log(drink);
        // 2.
        findOne = drink.find(function(element){
            if(element.includes("ff")){
                return true;
            }
        })
        console.log(findOne);
        
        // 3.
        filteredArr = drink.filter(function(element){
            if(element.includes("o")){
                return true;
            }
        })
        console.log(filteredArr);
        // 4.
        mappedDrink = drink.map(function(element,index){
            const newObject = {
                menu : element,
                price : priceArr[index]
            }
            return newObject;
        })
        console.log(mappedDrink);
    }
  </script>
</body>
</html>